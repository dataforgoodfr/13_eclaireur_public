# Use the following regex to attribute an official name to a column
TOPIC_COLUMNS_NORMALIZATION_REGEX = {
    r"(raison_sociale)": "nomBeneficiaire",
    "(montant|euros)": "montant",
    "collectivite": "nomAttribuant",
    "(sire[nt])": "idBeneficiaire",
    "nom[_ ].*attribu(ant|taire)": "nomAttribuant",
    "nom[_ ].*(beneficiaire|association)": "nomBeneficiaire",
    "association[_ ].*nom": "nomBeneficiaire",
    "id(entification)?[_ ].*attribu(ant|taire)": "idAttribuant",
    "id(entification)?[_ ].*beneficiaire": "idBeneficiaire",
    "nature": "nature",
    "date.*(convention|deliberation)": "dateConvention",
    "ann[ez_]e": "dateConvention",
    "pourcentage": "pourcentageSubvention",
    "notif(ication)?.*[_ ]ue": "notificationUE",
    "europeenne": "notificationUE",
    "(date|periode).*versement": "datesPeriodeVersement",
    "condition": "conditionsVersement",
    "(description|objet).*(dossier)?": "objet",
    "subvention.*accord": "montant",
    "numero.*dossier": "referenceDecision",
    "reference.*(deliberation|decision)": "referenceDecision",
    "\brae\b": "idRAE",
    "_rae_?": "idRAE",
    "_?rae_": "idRAE",
}

# TopicAggergator currently failes for a dataset if it has columns
# not in the official list after normalization.
# This is done in order to help treat datasets edge case.
# The following columns have been studied and should not lead to
# normalization failures.
TOPIC_IGNORE_EXTRA_COLUMNS = [
    "annee",
    "datedecision_tri",
    "objectif_id",
    "objectid",
    "nombreversements",
    "domaine",
    "sous_domaine",
    "secteur",
    "sous_secteur",
    "association_code",
    "unknown",
    "nb_adherents_isseens",
    "nb_adherents_totaux",
    "objet_1",
    "objet_2",
    "secteurs d'activités définies par l'association",
    "direction",
    "code_tranche",
    "cscollnom",
    "cscollsiret",
    "csmodificationdate",
    "nb adherents totaux",
    "attrib_type",
    "coll_type",
    "sub_date_debut",
    "sub_date_fin",
    "sub_dispositif",
    "siege",
    "intdomaine_id",
    "typetiers",
    "localisationprojetcommune",
    "localisationcodeinsee",
    "sous_theme",
    "nb_adherents_isseens",
    "geo_point_2d",
    "code_postal",
    "cp",
    "geometry",
    "code_commune",
    "libelle_commune",
    "point_geo",
    "datasetid",
    "naf_section_code",
    "nb adherents isseens",
]
